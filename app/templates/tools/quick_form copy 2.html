<h2 class="mb-3">{{title}} <i class="bi bi-info-circle info-icon" data-bs-toggle="modal" data-bs-target="#infoModal" aria-label="More Information"></i></h2>
<p class="mb-3">{{slogan}}</p>

<div class="alert alert-info" role="alert">
    <p class="mb-0">{{definition}}</p>
</div>

<div class="row justify-content-center mb-3">
    <div class="col-md-8">
        <form id="myForm" method="POST" novalidate>
            {{ form.hidden_tag() }}
            <div class="mb-3">
                <div class="form-group">
                    <label for="domainInput" class="form-label">{{ form.domain.label.text }} <span class="text-muted">(Required)</span></label>
                    {{ form.domain(class_="form-control", id="domainInput", aria_describedby="domainHelp") }}
                    {% for error in form.domain.errors %}
                    <small id="domainError" class="form-text text-danger">{{ error }}</small>
                    {% endfor %}
                    <div id="domainHelp" class="form-text">Please enter your domain name.</div>
                </div>
            </div>
            <div class="d-flex justify-content-between align-items-center">
                <div class="form-group">
                    <button id="submitButton" type="submit" class="btn btn-outline-primary w-100"  title="Click to submit the form">
                        <span class="spinner-border spinner-border-sm d-none" role="status" aria-hidden="true"></span>
                        <span class="sr-only">Loading...</span>
                        Enviar
                    </button>
                </div>
            </div>
        </form>
    </div>
</div>

<script>
    // Initialize tooltips
    var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'))
    var tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {
        return new bootstrap.Tooltip(tooltipTriggerEl)
    })

  // Capturar el evento de envío del formulario
  document.getElementById('myForm').addEventListener('submit', function() {
        // Mostrar el spinner al hacer clic en Enviar
        document.getElementById('submitButton').querySelector('.spinner-border').classList.remove('d-none');
        document.getElementById('submitButton').disabled = true; // Deshabilitar el botón para evitar envíos duplicados
    });
</script>
